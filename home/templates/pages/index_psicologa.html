{% extends 'layouts/base.html' %}
{% load static %}

{% block content %}
<div class="container-fluid py-4">
    <!-- Header Section -->
    <div class="row mb-4">
        <div class="col-12">
            <div class="card bg-gradient-primary shadow-lg border-0">
                <div class="card-body p-4">
                    <div class="row align-items-center">
                        <div class="col-md-8">
                            <h2 class="text-white mb-1">Ol√°, {{ user.username }}! üëã</h2>
                            <p class="text-white opacity-8 mb-0">Bem-vinda ao seu painel de controle</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Status Cards -->
    <div class="row g-3 mb-4">
        <div class="col-md-4">
            <div class="card bg-gradient-success shadow-sm">
                <div class="card-body p-3">
                    <div class="row align-items-center">
                        <div class="col-8">
                            <div class="numbers">
                                <p class="text-white text-sm mb-0 text-capitalize font-weight-bold">√öltima Atualiza√ß√£o</p>
                                <h5 class="text-white font-weight-bolder mb-0">
                                    {{ psicologo.ultima_atualizacao_agenda|date:"d/m/Y" }}
                                </h5>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="col-md-4">
            <div class="card bg-gradient-info shadow-sm">
                <div class="card-body p-3">
                    <div class="row align-items-center">
                        <div class="col-8">
                            <div class="numbers">
                                <p class="text-white text-sm mb-0 text-capitalize font-weight-bold">Status da Agenda</p>
                                <h5 class="text-white font-weight-bolder mb-0">Atualizada</h5>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Main Functions Section -->
    <div class="row mb-4">
        <div class="col-12">
            <h4 class="mb-3"><i class="bi bi-calendar-alt me-2"></i>Gerenciamento de Agenda</h4>
        </div>
    </div>

    <div class="row g-4 mb-5">
        <!-- Agenda Principal -->
        <div class="col-lg-4 col-md-6">
            <div class="card h-100 shadow-sm hover-lift">
                <div class="card-header bg-gradient-primary p-3">
                    <div class="d-flex align-items-center">
                       
                        <h6 class="text-white mb-0">Agenda Principal</h6>
                    </div>
                </div>
                <div class="card-body d-flex flex-column">
                    <p class="text-sm text-muted mb-3">Gerencie seus hor√°rios de atendimento presencial e organize sua agenda semanal.</p>
                    <div class="mt-auto">
                        <a href="{% url 'agenda_unificada' psicologo.id %}" class="btn btn-primary w-100">
                            <i class="bi bi-calendar-week me-2"></i>Acessar Agenda
                        </a>
                    </div>
                </div>
            </div>
        </div>

        <!-- Confirma√ß√£o de Consultas -->
        <div class="col-lg-4 col-md-6">
            <div class="card h-100 shadow-sm hover-lift">
                <div class="card-header bg-gradient-success p-3">
                    <div class="d-flex align-items-center">
                        
                        <h6 class="text-white mb-0">Confirma√ß√£o</h6>
                    </div>
                </div>
                <div class="card-body d-flex flex-column">
                    <p class="text-sm text-muted mb-3">Confirme presen√ßa dos pacientes e registre informa√ß√µes das consultas realizadas.</p>
                    <div class="mt-auto">
                        <a href="{% url 'confirma_consulta' psicologo.id %}" class="btn btn-success w-100">
                            <i class="bi bi-check-circle me-2"></i>Confirmar Consultas
                        </a>
                    </div>
                </div>
            </div>
        </div>

        <!-- Disponibilidade -->
        <div class="col-lg-4 col-md-6">
            <div class="card h-100 shadow-sm hover-lift">
                <div class="card-header bg-gradient-info p-3">
                    <div class="d-flex align-items-center">
                        <h6 class="text-white mb-0">Disponibilidade</h6>
                    </div>
                </div>
                <div class="card-body d-flex flex-column">
                    <p class="text-sm text-muted mb-3">Configure seus hor√°rios dispon√≠veis para novos agendamentos de pacientes.</p>
                    <div class="mt-auto">
                        <a href="{% url 'disponibilidade_unificada' psicologo.id %}" class="btn btn-info w-100">
                            <i class="bi bi-clock me-2"></i>Definir Hor√°rios
                        </a>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Profile Section -->
    <div class="row mb-4">
        <div class="col-12">
            <h4 class="mb-3"><i class="bi bi-user me-2"></i>Meu Perfil</h4>
        </div>
    </div>

    <div class="row g-4">
        <div class="col-lg-6">
            <div class="card h-100 shadow-sm">
                <div class="card-header bg-gradient-light p-3">
                    <div class="d-flex align-items-center">
            
                        <h6 class="mb-0">Perfil do Usu√°rio</h6>
                    </div>
                </div>
                <div class="card-body d-flex flex-column">
                    <p class="text-sm text-muted mb-3">Visualize e gerencie suas informa√ß√µes de perfil e configura√ß√µes pessoais.</p>
                    <div class="mt-auto">
                        <a href="{% url 'perfil_usuario' %}" class="btn btn-outline-primary w-100">
                            <i class="bi bi-id-badge me-2"></i>Ver Perfil
                        </a>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<style>
.hover-lift {
    transition: transform 0.2s ease-in-out, box-shadow 0.2s ease-in-out;
}

.hover-lift:hover {
    transform: translateY(-5px);
    box-shadow: 0 10px 25px rgba(0, 0, 0, 0.15);
}

.avatar-content {
    width: 60px;
    height: 60px;
    border-radius: 50%;
}

.icon-shape {
    width: 40px;
    height: 40px;
    border-radius: 0.375rem;
    display: flex;
    align-items: center;
    justify-content: center;
}

.card-header {
    border-bottom: none;
}

.btn {
    transition: all 0.2s ease-in-out;
}

.btn:hover {
    transform: translateY(-1px);
}

@media (max-width: 768px) {
    .card-body p {
        font-size: 0.875rem;
    }
    
    .btn {
        font-size: 0.875rem;
    }
}
</style>
{% endblock content %}